{% extends "base.html" %}
{% import "index-macros.html" as index_macros %}

{% block head %}
<title>{{ config.title }}</title>
<link rel="stylesheet" href="/styles/index.css">
{% endblock head %}

{% block before_content %}
<canvas id="matrix-animation"></canvas>
<div id="start">
    <img src="/logo.png" id="blog-logo" />
    <h1 id="blog-title">{{ config.title }}</h1>
    {% if config.description %}
        <p id="blog-description" class="no-indent">{{ config.description }}</p>
    {% elif section.description %}
        <p id="blog-description" class="no-indent">{{ section.description }}</p>
    {% endif %}
</div>
{% endblock before_content %}

{% block content %}
{% if section.extra.about and section.extra.about_img %}
    {{ index_macros::generate_about(about=section.extra.about, about_img=section.extra.about_img) }}
{% endif %}

{% if section.extra.projects %}
    {{ index_macros::generate_projects(projects=section.extra.projects) }}
{% endif %}

{% if section.pages or section.subsections %}
<div id="blog">
    {{ macros::categories(cat=config.extra.header_sections) }}
    <h1>Recent posts</h1>
    {{ index_macros::generate_pages(sec=section) }}
</div>
{% endif %}

<script src="/js/matrix-animation.js"></script>
{% endblock content %}
